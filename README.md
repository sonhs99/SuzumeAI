# SuzumeAI
마작을 기초로 한 게임 '참새작'을 플레이하는 AI를 만드는 프로젝트

## 1. "참새작"이란?
보드라이프 참새작 소개영상 : [Youtube][youtube1]  
BoardGameGeek 소개페이지 : [BoardGameGeek][boardgamegeek]

마작을 극도로 단순화시켜 초보자도 쉽게 마작을 접할 수 있게 만든 게임이다.  
2명부터 최대 5명까지 즐길 수 있다.

### 1.1 패
총 44개의 패(숫자패 1~9 4세트, 글자패 발, 중 4세트)로 진행한다.  
패의 특징은 다음과 같다
* 모든 패는 적색, 녹색, 나머지 패로 나뉜다.
* 적색 패 : 숫자패 1세트(1~9), 글자패 중
* 녹색 패 : 적색 패가 아닌 숫자패 중 2, 3, 4, 6, 8에 해당하는 패, 글자패 발

### 1.2 진행
먼저 처음에 시작할 사람(**친**)을 정하고, 모든 사람은 40점을 받고 시작한다.  
각 라운드(**국**)는 다음과 같이 진행한다.
> 1. 모든 패를 잘 섞고(**패산**) **친**부터 **패산**에서 패 5장(**손패**)을 가지고 간다.
> 2. 모든 사람이 5장을 가지고 갔으면, **친**은 패산에서 패 한 장(**도라**)를 공개한다.
이 패와 같은 패는 **도라**가 되며, 공개된 패는 **현재 국에서 사용하지 않는다**
> 3. **친**부터 **패산**에서 패 한장을 **손패**에 더한 후(**쯔모**, **쓰무**), **손패**에서 패 한 장을 버린다.(**버림패**)
> 4. **국**는 다음의 경우 끝난다.  
>     * 누군가 **화료**를 했을 때
>     * **패산**에 패가 없을 때(**유국**)

해당 **국**이 끝나면 점수를 정산하고(누군가 **화료**를 했을 경우) **친**은 다음 사람에게 넘긴다.
모든 사람이 **친**을 한번씩 하면 게임이 종료되며, 점수가 가장 많은 사람이 이긴다.

### 1.3 화료
**화료**를 하는 방법은 두 가지가 있다.
* 자신이 **쯔모**했을 때, **화료**조건을 만족한 경우(**쯔모**)
* 상대방이 패를 버렸을 때, 그 패로 **화료**조건에 맞는 패를 만들 수 있을 경우(**론**)

**화료**를 했을 경우 그 즉시 라운드가 끝나며, **화료**한 사람은 방법에 따라 점수를 얻는다.
* **쯔모** : 나머지 사람으로부터 점수를 **나누어** 받는다.
* **론** : 패를 버린 사람으로부터 **모든** 점수를 받는다.

**화료**조건은 다음과 같다.
* **손패**의 형태가 **화료**를 할 수 있는 형태이다..
* **손패**의 점수가 5점 이상이다.

#### 1.3.1 형태
손패를 3장씩 2묶음(**몸통**)으로 묶었을 때, 각 묶음이
> * 연속된 수패(**슌쯔**)
> * 같은 패(**커쯔**)

이면, **화료**를 할 수 있는 형태가 되었다고 한다.

#### 1.3.2 점수(**역**)
**역**(또는 **족보**)는 점수를 얻을 수 있는 조건이다.  
**역**은 대부분 중첩이 되나, 일부 **역**은 중첩이 되지 않는다.  
**역**은 **기본**, **역만**, **일반** **역**으로 구성된다.
* 기본 : 형태에 따른 역 (**슌쯔**, **커쯔**)
  * **슌쯔** : 개당 1점
  * **커쯔** : 개당 2점
* 일반 : 조건에 따른 역
  * **도라** : **도라**에 해당하는 패 1장당 1점
  * **적색** : 적색 패에 해당하는 패 1장당 1점
  * **단요구** : 2~9의 수패로 이루진 경우, 1점
  * **혼전대요구** : 모든 **몸통**에 1, 9, 발, 중 패가 포함될 경우, 2점
* 역만 : 조건에 따른 역, 일반 역보다 더 어렵다.
  * **녹일색** : 모든 패가 녹색 패일 경우, 10점
  * **혼노두** : 모든 패가 1, 9, 발, 중 패로만 이루어져 있을 경우, 15점
  * **적일색** : 모든 패가 적색 패일 경우, 20점

일반 역과 역만 역은 서로 중첩이 되지 않으며, 역만 역을 우선적으로 적용한다.  
기본 역은 다른 모든 역과 중첩이 된다.  
예) [1, 1, 적1, 9, 9, 9], 도라 1 : 커쯔2(4), ~~적색(1)~~, ~~도라(1)~~, ~~혼전대요구(2)~~, 혼노두(15) => 19점

### 1.4 그 외
* 만약 자신이 가진 점수가 부족해 점수 지불하지 못할 경우, 남은 모든 점수를 지불하고 게임을 계속한다. 그 차이에 대한 점수는 지불하지 않아도 된다.
* 여러 사람이 **론**을 할 수 있다.(**더블 론**, **트리플 론** 등) 이 경우, 차례가 빠른 사람부터 돌아가며 점수를 얻으며, 중간에 점수가 부족할 경우 위의 규칙을 따른다.
* **친**이 화료할 경우 2점을 추가로 얻는다. **화료**조건의 최소 점수 요구조건에 이 점수는 포함되지 않는다.
* 이미 버려진 패로 **론**을 할 수 없다. **론**을 할 수 있는 패는, 상대방이 바로 버려진 패 뿐이다.
* 자신이 버린 패에 해당하는 숫자, 글자로는 **론을 할 수 없다**.
  (**쯔모**는 가능하다.)  
예) 녹색 4 버림 -> 이후부터 녹색 4, 적색 4으로는 **론을 할 수 없다**. **쯔모**는 가능하다.

## 2 SuzumeAI
계속


[youtube1]:https://www.youtube.com/watch?v=OaSuOgxQZTw  
[boardgamegeek]:https://boardgamegeek.com/boardgame/268665/suzume-jong